<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miss Sweet Mimi - Ven a verme</title>
    <link rel="stylesheet" href="../css/Eventos.css" type="text/css">
</head>
<body>		
	<header>
		<div class="cabecera">	
			<div class="fondo-cabezera">
                <img src="../img/cabecera.jpg" class="fondo-cabezera" alt="fondo-cabezera">
            </div>
            <div class="titulo">
                <a href="../index.html" class="titulo">Miss Sweet Mimi</a>
            </div>
            <div class="eslogan">
                <p class="eslogan">Despierta A Tu Diosa Interior</p>
            </div>
            <nav>
                <div class="conoceme">
                    <a class="menu" href="Quien_soy.html">Qui√©n soy</a>
                </div>
                <div class="Galeria1">
                    <a class="menu" href="Galeria.html">Galeria</a>
                </div>
                <div class="Clases">
                    <a class="menu" href="login.html">Identif√≠cate</a>
                </div>
                <div class="eventos">
                    <a class="menu" href="Eventos.html">Eventos</a>
                </div>
                <div class="eventos">
                    <a class="menu" href="TusEventos.html">Tus eventos</a>
                </div>
                <div class="contacta">
                    <a class="menu" href="Contacto.html">Contacto</a>
                </div>
            </nav>
            
        </div>
    </header>
    <div class="centro">
        <div class="titulo2">
            <p class="titulo2">Los eventos de Mimi</p>
        </div>
        <div class="linea">
            <hr>
        </div>
        <div class="parrafo">
            <p class="parrafo">¬øA√∫n no te has enterado? ¬°Prep√°rate para el glamour, pasi√≥n y espect√°culo con los eventos mensuales de <em>Miss Sweet Mimi</em>!ü§©<br><br>

                Desde deslumbrantes espect√°culos de Burlesque hasta emocionantes talleres y encuentros, cada evento es una celebraci√≥n √∫nica del arte, la sensualidad y la comunidad. Con la experiencia y el talento incomparables de <em>Miss Sweet Mimi</em> como anfitriona, puedes esperar una experiencia inolvidable que te dejar√° con ganas de m√°s.<br><br>
                
                Sigue de cerca nuestra agenda para no perderte ni un solo momento de la magia que <em>Miss Sweet Mimi</em> tiene preparada para ti. ¬°√önete a nosotros y d√©jate llevar por la energ√≠a vibrante y el encanto de nuestros eventos mensuales!ü•∞</p>
        </div>
        <main>
            <div class="events" id="eventos-container">
                <p class="events">Cargando eventos...</p>
            </div>
        </main>
    </div>
    <div>
        <img src="../img/Logo_Miss_Sweet_Mimi_Derecha.png" class="logo-grande" width="151" height="151" alt="Logo Grande">
    </div>
    <footer>
        <div class="pie">
            <div class="tipo1">
                <p class="tipo1">Copyright ¬© 2023 <a class="tipo1" href="../index.html">Miss Sweet Mimi</a></p>
            </div>
        </div>
        <a href="Eventos.html" class="btn-flotante"> ‚ñ≤ </a>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch("../php/obtener_eventos_Mimi.php")
                .then(response => response.json())
                .then(data => {
                    console.log("Eventos recibidos:", data); // Debugging
    
                    const contenedor = document.getElementById("eventos-container");
                    contenedor.innerHTML = "";
    
                    if (data.error) {
                        contenedor.innerHTML = `<p>${data.error}</p>`;
                        return;
                    }
    
                    if (data.length === 0) {
                        contenedor.innerHTML = "<p>No hay eventos disponibles.</p>";
                        return;
                    }
    
                    data.forEach(evento => {
                        console.log("Evento:", evento); // Debugging de cada evento
    
                        const eventoHTML = document.createElement("div");
                        eventoHTML.classList.add("evento");
                        eventoHTML.innerHTML = `
                            <img src="${evento.url_image}" alt="${evento.event_name}" class="evento-imagen">
                            <h2>${evento.event_name}</h2>
                            <p><strong>Descripci√≥n:</strong> ${evento.event_description}</p>
                            <p><strong>Fecha:</strong> ${evento.event_date}</p>
                            <p><strong>Tipo:</strong> ${evento.event_type}</p>
                            <p><strong>Duraci√≥n:</strong> ${evento.duration} minutos</p>
                            <p><strong>Plazas disponibles:</strong> ${evento.places !== null ? evento.places : 'No disponible'}</p>
                            <p><strong>Precio:</strong> ‚Ç¨${evento.price}</p>
                        `;
    
                        eventoHTML.addEventListener("click", function () {
                            window.location.href = `Entradas.html?event_id=${evento.event_id}`;
                        });
    
                        contenedor.appendChild(eventoHTML);
                    });
                })
                .catch(error => {
                    document.getElementById("eventos-container").innerHTML = "<p>Error al cargar los eventos.</p>";
                    console.error("Error en fetch:", error);
                });
        });
    </script>
</body>
</html>
